<Window x:Class="PrettyLogcat.Views.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Settings - PrettyLogcat" 
        Height="500" Width="600"
        MinHeight="400" MinWidth="500"
        WindowStartupLocation="CenterOwner"
        ResizeMode="CanResize">
    
    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Settings Tabs -->
        <TabControl Grid.Row="0">
            <!-- Display Settings Tab -->
            <TabItem Header="Display">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="16">
                        <!-- Log Preview Settings -->
                        <GroupBox Header="Log Preview" Margin="0,0,0,16">
                            <StackPanel Margin="8">
                                <Grid Margin="0,8">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    
                                    <TextBlock Grid.Column="0" Text="Preview Line Limit:" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                    <Slider Grid.Column="1" x:Name="PreviewLineLimitSlider"
                                            Minimum="1" Maximum="10" 
                                            Value="{Binding LogPreviewLineLimit}"
                                            TickFrequency="1" 
                                            IsSnapToTickEnabled="True"
                                            TickPlacement="BottomRight"
                                            Margin="0,0,8,0"/>
                                    <TextBlock Grid.Column="2" Text="{Binding Value, ElementName=PreviewLineLimitSlider, StringFormat='{}{0} lines'}" 
                                               VerticalAlignment="Center" MinWidth="60" TextAlignment="Center"/>
                                </Grid>
                                <TextBlock Text="Number of lines to display for multi-line log entries before requiring expansion" 
                                           Foreground="Gray" FontSize="11" Margin="0,0,0,8"/>
                            </StackPanel>
                        </GroupBox>
                        
                        <!-- Text Display Settings -->
                        <GroupBox Header="Text Display" Margin="0,0,0,16">
                            <StackPanel Margin="8">
                                <CheckBox Content="Word Wrap" IsChecked="{Binding WordWrap}" Margin="0,8"/>
                                <TextBlock Text="Enable text wrapping for long log messages" 
                                           Foreground="Gray" FontSize="11" Margin="16,0,0,8"/>
                                           
                                <CheckBox Content="Auto Scroll" IsChecked="{Binding AutoScroll}" Margin="0,8"/>
                                <TextBlock Text="Automatically scroll to bottom when new logs arrive" 
                                           Foreground="Gray" FontSize="11" Margin="16,0,0,8"/>
                            </StackPanel>
                        </GroupBox>
                        
                        <!-- Column Visibility Settings -->
                        <GroupBox Header="Column Visibility" Margin="0,0,0,16">
                            <Grid Margin="8">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                
                                <CheckBox Grid.Row="0" Grid.Column="0" Content="Time" IsChecked="{Binding ShowTimeColumn}" Margin="0,4"/>
                                <CheckBox Grid.Row="0" Grid.Column="1" Content="Level" IsChecked="{Binding ShowLevelColumn}" Margin="0,4"/>
                                <CheckBox Grid.Row="1" Grid.Column="0" Content="PID" IsChecked="{Binding ShowPidColumn}" Margin="0,4"/>
                                <CheckBox Grid.Row="1" Grid.Column="1" Content="TID" IsChecked="{Binding ShowTidColumn}" Margin="0,4"/>
                                <CheckBox Grid.Row="2" Grid.Column="0" Content="Tag" IsChecked="{Binding ShowTagColumn}" Margin="0,4"/>
                                <CheckBox Grid.Row="2" Grid.Column="1" Content="Message" IsChecked="{Binding ShowMessageColumn}" Margin="0,4"/>
                            </Grid>
                        </GroupBox>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
            
            <!-- Filter Settings Tab -->
            <TabItem Header="Filters">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="16">
                        <!-- Log Level Filters -->
                        <GroupBox Header="Default Log Levels" Margin="0,0,0,16">
                            <Grid Margin="8">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                
                                <CheckBox Grid.Row="0" Grid.Column="0" Content="Verbose" IsChecked="{Binding ShowVerbose}" Margin="0,4"/>
                                <CheckBox Grid.Row="0" Grid.Column="1" Content="Debug" IsChecked="{Binding ShowDebug}" Margin="0,4"/>
                                <CheckBox Grid.Row="1" Grid.Column="0" Content="Info" IsChecked="{Binding ShowInfo}" Margin="0,4"/>
                                <CheckBox Grid.Row="1" Grid.Column="1" Content="Warning" IsChecked="{Binding ShowWarn}" Margin="0,4"/>
                                <CheckBox Grid.Row="2" Grid.Column="0" Content="Error" IsChecked="{Binding ShowError}" Margin="0,4"/>
                                <CheckBox Grid.Row="2" Grid.Column="1" Content="Fatal" IsChecked="{Binding ShowFatal}" Margin="0,4"/>
                                
                                <TextBlock Grid.Row="3" Grid.ColumnSpan="2" 
                                           Text="Default log levels to display when starting the application" 
                                           Foreground="Gray" FontSize="11" Margin="0,8,0,0"/>
                            </Grid>
                        </GroupBox>
                        
                        <!-- Filter History Settings -->
                        <GroupBox Header="Filter History" Margin="0,0,0,16">
                            <StackPanel Margin="8">
                                <Button Content="Clear Tag Filter History" 
                                        Click="ClearTagFilterHistory_Click" 
                                        HorizontalAlignment="Left" 
                                        Margin="0,4" 
                                        Padding="8,4"/>
                                <Button Content="Clear Message Filter History" 
                                        Click="ClearMessageFilterHistory_Click" 
                                        HorizontalAlignment="Left" 
                                        Margin="0,4" 
                                        Padding="8,4"/>
                                <Button Content="Clear PID Filter History" 
                                        Click="ClearPidFilterHistory_Click" 
                                        HorizontalAlignment="Left" 
                                        Margin="0,4" 
                                        Padding="8,4"/>
                                <Button Content="Clear All Quick Filters" 
                                        Click="ClearQuickFilters_Click" 
                                        HorizontalAlignment="Left" 
                                        Margin="0,4" 
                                        Padding="8,4"/>
                            </StackPanel>
                        </GroupBox>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
            
            <!-- About Tab -->
            <TabItem Header="About">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="16">
                        <TextBlock Text="PrettyLogcat" FontSize="24" FontWeight="Bold" Margin="0,0,0,8"/>
                        <TextBlock Text="Android Logcat Viewer" FontSize="16" Foreground="Gray" Margin="0,0,0,16"/>
                        
                        <TextBlock Text="Version: 1.0.0" Margin="0,4"/>
                        <TextBlock Text="Author: zkhuang" Margin="0,4"/>
                        <TextBlock Text="© 2024 All rights reserved." Margin="0,4,0,16"/>
                        
                        <TextBlock Text="Features:" FontWeight="Bold" Margin="0,0,0,8"/>
                        <TextBlock Text="• Real-time log filtering and search" Margin="16,2"/>
                        <TextBlock Text="• Multiple device support" Margin="16,2"/>
                        <TextBlock Text="• Log level color coding" Margin="16,2"/>
                        <TextBlock Text="• Pin important logs" Margin="16,2"/>
                        <TextBlock Text="• Export and import functionality" Margin="16,2"/>
                        <TextBlock Text="• ADB integration tools" Margin="16,2"/>
                        <TextBlock Text="• Configurable display settings" Margin="16,2"/>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
        </TabControl>
        
        <!-- Buttons -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,16,0,0">
            <Button Content="Reset to Defaults" Click="ResetToDefaults_Click" Margin="0,0,8,0" Padding="12,6"/>
            <Button Content="OK" Click="OK_Click" IsDefault="True" Margin="0,0,8,0" Padding="12,6" MinWidth="80"/>
            <Button Content="Cancel" Click="Cancel_Click" IsCancel="True" Padding="12,6" MinWidth="80"/>
        </StackPanel>
    </Grid>
</Window>